{"version":3,"file":"index.js","sources":["hooks/useScroller.js","components/Scrollable.js","index.js"],"sourcesContent":["\nimport { useContext, createContext, useCallback, useRef, useEffect } from 'react'\n\nexport const ScrollerContext = createContext({})\n\n/***\n * Scrolls to top, unless element id is passed, it looks for element and scrollIntoView\n *\n * @param containerId\n */\nexport const scrollToTop = ({ containerId } = {}) => {\n  let element = window;\n  if (containerId) {\n    const container = document.getElementById(containerId);\n    element = container || element;\n  }\n  element.scroll({ behavior: 'smooth', top: 0, left: 0 });\n}\n\n/***\n * Registers component reference in Scroller context\n *\n * @param name\n * @returns {React.MutableRefObject<null>}\n */\nexport const useScrollable = (name) => {\n  const ref = useRef(null)\n  const scrollablesMap = useContext(ScrollerContext)\n\n  useEffect(() => {\n    scrollablesMap[name] = ref\n    return () => delete scrollablesMap[name]\n  }, [])\n  return ref\n}\n\n/***\n * Returns methods for scrolling to Scrollable elements.\n *\n * @param name\n * @param ref\n * @returns {{animateScroll: *, scrollTo: *}}\n */\nexport const useScroller = (name, ref) => {\n  const scrollablesMap = useContext(ScrollerContext)\n  const scrollCallbackFactory = useCallback((params) => () => {\n    const cmpRef = ref || scrollablesMap[name]\n    if (cmpRef) {\n      cmpRef.current.scrollIntoView(params)\n    }\n  }, scrollablesMap[name])\n\n  return {\n    scrollTo: scrollCallbackFactory(),\n    animateScroll: scrollCallbackFactory({ behavior: 'smooth' })\n  }\n}\n","import { default as React, useLayoutEffect } from 'react'\nimport { useScrollable, useScroller } from '../hooks/useScroller'\n\n/***\n * Registers a reference in scroller context. Later on component name can be used to scroll to it.\n *\n * @param children\n * @param name\n * @returns {*}\n * @constructor\n */\nexport const Scrollable = ({ children, name }) => {\n  const ref = useScrollable(name)\n  return <div ref={ref} name={name}> {children} </div>\n}\n\n/***\n * Performs animates scroll to 'Scrollable' element with proper name\n *\n * @param children\n * @param name\n * @param shouldScroll\n * @returns {*}\n * @constructor\n */\nexport const ScrollToElement = ({ children, name, shouldScroll = true }) => {\n  const ref = useScrollable(name);\n  const { animateScroll } = useScroller(name, ref);\n  useLayoutEffect(() => {\n    if (shouldScroll) {\n      animateScroll()\n    }\n  });\n  return <div ref={ref} name={name}> {children} </div>;\n}\n\n/***\n * Wraps children, and animates scroll to element passed in 'to' property\n *\n * @param to\n * @param children\n * @returns {*}\n * @constructor\n */\nexport const Link = ({ to, children }) => {\n  const { animateScroll } = useScroller(to);\n  return <div onClick={animateScroll}>\n    {children}\n  </div>\n}\n","import { useScrollable, useScroller, ScrollerContext, scrollToTop } from './hooks/useScroller';\nimport { Scrollable, ScrollToElement, Link } from './components/Scrollable';\nexport {\n  useScrollable, useScroller, Scrollable, ScrollToElement, ScrollerContext, Link, scrollToTop\n};\nexport default {\n  useScrollable, useScroller, Scrollable, ScrollToElement, ScrollerContext, Link, scrollToTop\n};\n"],"names":["ScrollerContext","createContext","scrollToTop","containerId","element","window","container","document","getElementById","scroll","behavior","top","left","useScrollable","name","ref","useRef","scrollablesMap","useContext","useEffect","useScroller","scrollCallbackFactory","useCallback","params","cmpRef","current","scrollIntoView","scrollTo","animateScroll","Scrollable","children","ScrollToElement","shouldScroll","useLayoutEffect","Link","to"],"mappings":"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"}EjC,WAAW,EAAXA;CADlF;;;;;;;;;;;"}